<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Descrição</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- USUÁRIO QUE NÃO POSTOU -->
  <div *ngIf="relato.userId != usuarioId">
    <ion-item lines="none" class="ion-margin-top">
      <ion-avatar slot="start">
        <ion-skeleton-text></ion-skeleton-text>
      </ion-avatar>
      <ion-label color="light">
        <h2>nome do usuário</h2>
        <p> {{ relato.createdAt | date: 'short' }} </p>
      </ion-label>
    </ion-item>

    <ion-item lines="none" class="ion-margin">
      <ion-label>
        <h1> {{ relato.ocorrido }} </h1>
        <p>
          {{ relato.descricao }}
        </p>
      </ion-label>
    </ion-item>
    <ion-item class="ion-margin">
      <h6> {{ relato.endereco }} </h6>
    </ion-item>

    <ion-item lines="none" *ngIf="relato.resolvido == false">
      <h6>Esta denúncia é verídica?</h6>
    </ion-item>

    <ion-item lines = "none" class="nsei">
      <h4> {{ relato.numLike }} </h4>
      <ion-button (click)="like()" >
        <ion-icon slot="icon-only" name="thumbs-up"></ion-icon>
      </ion-button>
    </ion-item>

    <div id="opcoes" class="ion-padding" *ngIf="relato.resolvido == true">
      <p>Resolvido</p>
      <ion-icon name="checkbox-outline"></ion-icon>
    </div>

  </div>

  <!-- USUÁRIO QUE POSTOU -->
  <div *ngIf="relato.userId == usuarioId">

    <ion-item class="ion-margin" lines="none">
      <ion-label slot="start">
        <h4>Relatado em:</h4>
        <p> {{ relato.createdAt | date: 'short' }} </p>
      </ion-label>
      <ion-label>
        <h4>Resolvido?</h4>
        <ion-toggle [(ngModel)]="relato.resolvido"></ion-toggle>
      </ion-label>

    </ion-item>
    <!-- 
    <ion-list>
      <ion-radio-group [(ngModel)]="relato.ocorrido">

        
        <ion-item>
          <ion-label>Rua sem asfalto</ion-label>
          <ion-radio slot="start" value="Rua sem asfalto"></ion-radio>
        </ion-item>

      </ion-radio-group>
    </ion-list> -->
    <p> {{relato.ocorrido}} </p>
    <ion-item lines="none">
      <ion-textarea rows="6" cols="20" placeholder="Descreva o problema." [(ngModel)]="relato.descricao"></ion-textarea>
    </ion-item>
  </div>

</ion-content>


<ion-footer *ngIf="relato.userId == usuarioId">
  <ion-toolbar>
    <ion-grid>
      <ion-row>
        <ion-col>
          <ion-button expand="block" color="dark" shape="round" (click)="updateRelato()">Atualizar denúncia</ion-button>
        </ion-col>
        <ion-col>
          <ion-button expand="block" color="danger" shape="round" (click)="deleteRelato(relatoId)">Deletar</ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-toolbar>
</ion-footer>